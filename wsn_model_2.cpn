<?xml version="1.0" encoding="iso-8859-1"?>

<workspaceElements>
  <generator tool="CPN Tools"
             version="2.3.12"
             format="6"/>
  <cpnet>
    <globbox>

      <block id="ID1">
        <id>Standard declarations</id>

        <color id="ID2">
          <id>UNIT</id>
          <unit/>

          <layout>colset UNIT = unit;
          </layout>

        </color>
        <color id="ID3">
          <id>INT</id>
          <int/>

        </color>
        <color id="ID4">
          <id>INT_LIST</id>
          <list>
            <id>INT</id>
          </list>

          <layout>colset INT_LIST = list INT;
          </layout>

        </color>
        <color id="ID5">
          <id>BOOL</id>
          <bool/>

        </color>
        <color id="ID6">
          <id>STRING</id>
          <string/>

        </color>
        <ml id="ID7">val d = 3;
          <layout>val d = 3;</layout>

        </ml>

        <ml id="ID8">fun realToInt r = IntInf.toInt( RealToIntInf d r );
          <layout>fun realToInt r = IntInf.toInt( RealToIntInf d r );</layout>

        </ml>

        <ml id="ID9">fun intToReal i = (IntInfToReal d(IntInf.fromInt i));
          <layout>fun intToReal i = (IntInfToReal d(IntInf.fromInt i));</layout>

        </ml>

      </block>
      <block id="ID10">
        <id>Performance Calc</id>

        <globref id="ID11">
          <id>timeGlobal</id>
          <ml>0.0 : real</ml>
          <layout>globref timeGlobal = 0.0 : real;</layout>
        </globref>

        <globref id="ID12">
          <id>timeLast</id>
          <ml>0.0 : real</ml>
          <layout>globref timeLast = 0.0 : real;</layout>
        </globref>

        <globref id="ID13">
          <id>never</id>
          <ml>false : BOOL</ml>
          <layout>globref never = false : BOOL;</layout>
        </globref>

        <ml id="ID14">fun setTimeGlobal( t : real ) =
(
   if( !timeGlobal &lt; t )
     then timeGlobal := t
  else ()
);
          <layout>fun setTimeGlobal( t : real ) =
(
   if( !timeGlobal &lt; t )
     then timeGlobal := t
  else ()
);</layout>

        </ml>

        <ml id="ID15">fun getTimeListen( t : real ) =
(
   !timeGlobal - t
);
          <layout>fun getTimeListen( t : real ) =
(
   !timeGlobal - t
);</layout>

        </ml>

      </block>
      <block id="ID16">
        <id>Network Commons</id>

        <color id="ID17">
          <id>ROUTING_TYPE</id>
          <enum>
            <id>CONTROL</id>
            <id>APPLICATION</id>
          </enum>

          <layout>colset ROUTING_TYPE = with
      CONTROL | APPLICATION;
          </layout>

        </color>
        <color id="ID18">
          <id>ROUTING</id>
          <record>
            <recordfield>
              <id>destination</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>neighbor</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>cost</id>
              <id>INT</id>
            </recordfield>
          </record>

          <layout>colset ROUTING = record
       destination:INT
    * neighbor:INT
    * cost:INT;
          </layout>

        </color>
        <color id="ID19">
          <id>ROUTING_LIST</id>
          <list>
            <id>ROUTING</id>
          </list>

          <layout>colset ROUTING_LIST = list ROUTING;
          </layout>

        </color>
        <color id="ID20">
          <id>NODE</id>
          <record>
            <recordfield>
              <id>id</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>X</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>Y</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>range</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>duty_cicle</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>battery</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>cpu</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>radio_listen</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>radio_tx</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>radio_rx</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>radio_bandwidth</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>app_mode</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>app_periodic</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>app_nextTime</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>app_sendTo</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>radio_status</id>
              <id>BOOL</id>
            </recordfield>
            <recordfield>
              <id>sent</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>received</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>routed</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>ignored</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>packet_id</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>retransmitted</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>routing</id>
              <id>ROUTING_LIST</id>
            </recordfield>
          </record>
          <declare>
            <id>set</id>
          </declare>

          <layout>colset NODE = record
     id:INT
   * X:INT
   * Y:INT
   * range : INT
   * duty_cicle : INT
   * battery : INT
(* ---------------------- *)
   * cpu : INT
   * radio_listen : INT
   * radio_tx : INT
   * radio_rx : INT
   * radio_bandwidth : INT
(* ---------------------- *)
   * app_mode : INT
   * app_periodic : INT
   * app_nextTime : INT
   * app_sendTo : INT
(* ---------------------- *)
   * radio_status : BOOL
   * sent : INT
   * received : INT
   * routed : INT
   * ignored : INT
   * packet_id : INT
   * retransmitted : INT
   * routing : ROUTING_LIST
   declare set;
          </layout>

        </color>
        <color id="ID21">
          <id>NODE_LIST</id>
          <list>
            <id>NODE</id>
          </list>

          <layout>colset NODE_LIST = list NODE;
          </layout>

        </color>
        <color id="ID22">
          <id>LOST_TYPE</id>
          <enum>
            <id>NOT_LOST</id>
            <id>RADIO_OFF</id>
            <id>NODE_OFF</id>
            <id>TTL_EXPIRED</id>
            <id>QUEUE_FULL</id>
            <id>OUT_OF_RANGE</id>
            <id>NODE_NOT_EXIST</id>
          </enum>

          <layout>colset LOST_TYPE = with
    NOT_LOST
   | RADIO_OFF
   | NODE_OFF
   | TTL_EXPIRED
   | QUEUE_FULL
   | OUT_OF_RANGE
   | NODE_NOT_EXIST;
          </layout>

        </color>
        <color id="ID23">
          <id>PACKET</id>
          <record>
            <recordfield>
              <id>id</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>from</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>to</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>routingType</id>
              <id>ROUTING_TYPE</id>
            </recordfield>
            <recordfield>
              <id>source</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>destination</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>cost</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>processBy</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>delay</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>length</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>lost</id>
              <id>LOST_TYPE</id>
            </recordfield>
          </record>
          <declare>
            <id>set</id>
          </declare>

          <layout>colset PACKET = record
      id:INT
   * from:INT
   * to:INT
   * routingType:ROUTING_TYPE
   * source:INT
   * destination:INT
   * cost:INT
   * processBy:INT
   * delay : INT
   * length : INT
   * lost : LOST_TYPE
   declare set;
          </layout>

        </color>
        <var id="ID24">
          <type>
            <id>PACKET</id>
          </type>

        <id>pVar</id>
        <id>pVar2</id>
          <layout>var pVar,pVar2 : PACKET;</layout>
        </var>
        <color id="ID25">
          <id>ENTRY</id>
          <record>
            <recordfield>
              <id>p</id>
              <id>PACKET</id>
            </recordfield>
            <recordfield>
              <id>n</id>
              <id>NODE</id>
            </recordfield>
          </record>

          <layout>colset ENTRY = record
    p : PACKET
 * n : NODE;
          </layout>

        </color>
        <var id="ID26">
          <type>
            <id>ENTRY</id>
          </type>

        <id>eVar</id>
        <id>eVar2</id>
          <layout>var eVar, eVar2 : ENTRY;</layout>
        </var>
        <var id="ID27">
          <type>
            <id>INT</id>
          </type>

        <id>resp</id>
          <layout>var resp : INT;</layout>
        </var>
        <var id="ID28">
          <type>
            <id>NODE</id>
          </type>

        <id>nodeVar</id>
        <id>nodeVar2</id>
          <layout>var nodeVar, nodeVar2 : NODE;</layout>
        </var>
        <var id="ID29">
          <type>
            <id>INT_LIST</id>
          </type>

        <id>intListVar</id>
        <id>intListVar2</id>
          <layout>var intListVar,intListVar2 : INT_LIST;</layout>
        </var>
        <var id="ID30">
          <type>
            <id>NODE_LIST</id>
          </type>

        <id>nodeListVar</id>
          <layout>var nodeListVar : NODE_LIST;</layout>
        </var>
        <ml id="ID31">fun euclideanDistance( from:NODE , to:NODE ) =
let
  val X = real (#X from - #X to)
  val Y = real (#Y from - #Y to)
  val d = Math.sqrt ( X*X + Y*Y )
in
   d
end;
          <layout>fun euclideanDistance( from:NODE , to:NODE ) =
let
  val X = real (#X from - #X to)
  val Y = real (#Y from - #Y to)
  val d = Math.sqrt ( X*X + Y*Y )
in
   d
end;</layout>

        </ml>

      <block id="ID32">
        <id>Time Table</id>

        <globref id="ID33">
          <id>timeList</id>
          <ml>nil : real list</ml>
          <layout>globref timeList = nil : real list;</layout>
        </globref>

        <ml id="ID34">fun getTime( id:int ) =
(
  List.nth ( !timeList , id - 1 )
);
          <layout>fun getTime( id:int ) =
(
  List.nth ( !timeList , id - 1 )
);</layout>

        </ml>

        <ml id="ID35">fun setTime_( i:int , id:int , v:real ) =
(
  if( length (!timeList) = i )
     then []
  else if( id - 1 = i )
     then v::setTime_( i + 1 , id , v )
  else
    getTime( i + 1 )::setTime_( i + 1 , id , v )
);
          <layout>fun setTime_( i:int , id:int , v:real ) =
(
  if( length (!timeList) = i )
     then []
  else if( id - 1 = i )
     then v::setTime_( i + 1 , id , v )
  else
    getTime( i + 1 )::setTime_( i + 1 , id , v )
);</layout>

        </ml>

        <ml id="ID36">fun setTime( id:int , value:real ) =
(
  timeList := setTime_( 0 , id , value )
);
          <layout>fun setTime( id:int , value:real ) =
(
  timeList := setTime_( 0 , id , value )
);</layout>

        </ml>

      </block>
      <block id="ID37">
        <id>Energy Table</id>

        <globref id="ID38">
          <id>energyList</id>
          <ml>nil : real list</ml>
          <layout>globref energyList = nil : real list;</layout>
        </globref>

        <ml id="ID39">fun getEnergy( id:int ) =
(
   List.nth ( !energyList , id - 1 )
);
          <layout>fun getEnergy( id:int ) =
(
   List.nth ( !energyList , id - 1 )
);</layout>

        </ml>

        <ml id="ID40">fun setEnergy_( i: int , id:int , v:real ) =
(
  if ( length (!energyList) = i )
      then []
  else if ( id - 1 = i )
      then v::setEnergy_( i + 1 , id , v )
  else
      getEnergy( i + 1 )::setEnergy_( i + 1 , id , v )
);
          <layout>fun setEnergy_( i: int , id:int , v:real ) =
(
  if ( length (!energyList) = i )
      then []
  else if ( id - 1 = i )
      then v::setEnergy_( i + 1 , id , v )
  else
      getEnergy( i + 1 )::setEnergy_( i + 1 , id , v )
);</layout>

        </ml>

        <ml id="ID41">fun setEnergy( id:int , value:real ) =
(
  energyList := setEnergy_(  0 , id , value )
);
          <layout>fun setEnergy( id:int , value:real ) =
(
  energyList := setEnergy_(  0 , id , value )
);</layout>

        </ml>

      </block>
      <block id="ID42">
        <id>Node Table</id>

        <globref id="ID43">
          <id>nodeList</id>
          <ml>nil : NODE_LIST</ml>
          <layout>globref nodeList = nil : NODE_LIST;</layout>
        </globref>

        <ml id="ID44">fun addNode( node:NODE ) =
(
  timeList := ins (!timeList) 0.0;
  energyList := ins (!energyList) 0.0;
  nodeList := ins (!nodeList) node
);
          <layout>fun addNode( node:NODE ) =
(
  timeList := ins (!timeList) 0.0;
  energyList := ins (!energyList) 0.0;
  nodeList := ins (!nodeList) node
);</layout>

        </ml>

        <ml id="ID45">fun getNode( id:int ) =
(
  List.nth( (!nodeList) , id - 1 )
);
          <layout>fun getNode( id:int ) =
(
  List.nth( (!nodeList) , id - 1 )
);</layout>

        </ml>

        <ml id="ID46">fun existNode( id:INT ) =
(
  ((id - 1) &lt;= List.length (!nodeList))
);
          <layout>fun existNode( id:INT ) =
(
  ((id - 1) &lt;= List.length (!nodeList))
);</layout>

        </ml>

        <ml id="ID47">fun updateNodeTable( n:NODE , l:NODE_LIST , i:int ) =
(
   if( length (!nodeList) = i )
      then l
   else if( i  = (#id n) - 1 )
      then updateNodeTable( n , (ins l n) , i  + 1 )
   else
      updateNodeTable( n , (ins l (List.nth(!nodeList,i))) , i + 1 )
);
          <layout>fun updateNodeTable( n:NODE , l:NODE_LIST , i:int ) =
(
   if( length (!nodeList) = i )
      then l
   else if( i  = (#id n) - 1 )
      then updateNodeTable( n , (ins l n) , i  + 1 )
   else
      updateNodeTable( n , (ins l (List.nth(!nodeList,i))) , i + 1 )
);</layout>

        </ml>

        <ml id="ID48">fun updateNode( n:NODE ) =
(
  nodeList := updateNodeTable( n , nil , 0 )
);
          <layout>fun updateNode( n:NODE ) =
(
  nodeList := updateNodeTable( n , nil , 0 )
);</layout>

        </ml>

        <ml id="ID49">fun initNode() =
(
  timeList     := nil;
  energyList := nil;
  nodeList    := nil;

  addNode( {id = 1, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 50, app_sendTo = 1, Y = 50, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 2, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 27, app_sendTo = 1, Y = 29, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 3, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 36, app_sendTo = 1, Y = 47, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 4, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 54, app_sendTo = 1, Y = 2, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 5, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 88, app_sendTo = 1, Y = 58, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 6, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 81, app_sendTo = 1, Y = 34, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 7, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 27, app_sendTo = 1, Y = 17, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 8, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 47, app_sendTo = 1, Y = 90, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 9, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 26, app_sendTo = 1, Y = 51, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 10, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 33, app_sendTo = 1, Y = 23, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 11, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 39, app_sendTo = 1, Y = 65, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 12, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 71, app_sendTo = 1, Y = 55, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 13, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 51, app_sendTo = 1, Y = 13, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 14, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 51, app_sendTo = 1, Y = 32, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 15, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 82, app_sendTo = 1, Y = 80, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 16, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 35, app_sendTo = 1, Y = 63, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 17, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 23, app_sendTo = 1, Y = 37, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 18, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 28, app_sendTo = 1, Y = 23, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 19, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 67, app_sendTo = 1, Y = 9, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 20, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 57, app_sendTo = 1, Y = 92, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  
  !nodeList
);
          <layout>fun initNode() =
(
  timeList     := nil;
  energyList := nil;
  nodeList    := nil;

  addNode( {id = 1, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 50, app_sendTo = 1, Y = 50, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 2, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 27, app_sendTo = 1, Y = 29, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 3, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 36, app_sendTo = 1, Y = 47, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 4, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 54, app_sendTo = 1, Y = 2, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 5, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 88, app_sendTo = 1, Y = 58, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 6, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 81, app_sendTo = 1, Y = 34, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 7, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 27, app_sendTo = 1, Y = 17, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 8, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 47, app_sendTo = 1, Y = 90, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 9, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 26, app_sendTo = 1, Y = 51, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 10, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 33, app_sendTo = 1, Y = 23, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 11, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 39, app_sendTo = 1, Y = 65, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 12, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 71, app_sendTo = 1, Y = 55, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 13, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 51, app_sendTo = 1, Y = 13, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 14, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 51, app_sendTo = 1, Y = 32, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 15, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 82, app_sendTo = 1, Y = 80, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 16, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 35, app_sendTo = 1, Y = 63, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 17, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 23, app_sendTo = 1, Y = 37, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 18, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 28, app_sendTo = 1, Y = 23, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 19, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 67, app_sendTo = 1, Y = 9, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  addNode( {id = 20, app_periodic = 2000, app_nextTime = 0, radio_tx = 17000, range = 200, radio_listen = 8000, radio_rx = 16000, cpu = 8000, radio_bandwidth = 250000, app_mode = 1, battery = 5, duty_cicle = 0, X = 57, app_sendTo = 1, Y = 92, radio_status = true, sent = 0, received = 0, routed = 0, ignored = 0, packet_id = 0, retransmitted = 0, routing = nil });
  
  !nodeList
);</layout>

        </ml>

        <ml id="ID50">fun setNodeRouting( n:NODE , r:ROUTING_LIST ) =
(
  NODE.set_routing n  r
);
          <layout>fun setNodeRouting( n:NODE , r:ROUTING_LIST ) =
(
  NODE.set_routing n  r
);</layout>

        </ml>

        <ml id="ID51">fun setNodeTimeAndEnergy( n:NODE , t:real , e:real ) =
let
  val performance = getTime( #id n );
  val energy = getEnergy( #id n );
in
  setTime( #id n , performance + t );
  setEnergy( #id n , energy + e );
  setTimeGlobal( performance + t  );
 n
end;
          <layout>fun setNodeTimeAndEnergy( n:NODE , t:real , e:real ) =
let
  val performance = getTime( #id n );
  val energy = getEnergy( #id n );
in
  setTime( #id n , performance + t );
  setEnergy( #id n , energy + e );
  setTimeGlobal( performance + t  );
 n
end;</layout>

        </ml>

        <ml id="ID52">fun setNodeMsg( n:NODE , s:int , r:int , ro:int , i:int ) =
let
  val n1 = NODE.set_sent n ((#sent n) + s);
  val n2 = NODE.set_received n1 ((#received n) + r);
  val n3 = NODE.set_routed n2 ((#routed n) + ro);
  val n4 = NODE.set_ignored n3 ((#ignored n) + i );
in
   n4
end;
          <layout>fun setNodeMsg( n:NODE , s:int , r:int , ro:int , i:int ) =
let
  val n1 = NODE.set_sent n ((#sent n) + s);
  val n2 = NODE.set_received n1 ((#received n) + r);
  val n3 = NODE.set_routed n2 ((#routed n) + ro);
  val n4 = NODE.set_ignored n3 ((#ignored n) + i );
in
   n4
end;</layout>

        </ml>

        <ml id="ID53">fun isBatteryOver( n:NODE ) =
let
  val battery = real (#battery n);
  val energy = getEnergy ( #id n );
in
  battery &lt;= energy
end;
          <layout>fun isBatteryOver( n:NODE ) =
let
  val battery = real (#battery n);
  val energy = getEnergy ( #id n );
in
  battery &lt;= energy
end;</layout>

        </ml>

        <ml id="ID54">fun getNodeDead_( size:INT , i:INT ) =
 let
   val node = getNode( i + 1 );
   val isOver = isBatteryOver( node );
 in
   if( isOver andalso i + 1 &lt; length (!nodeList) ) then
     getNodeDead_( size + 1 , i + 1 )
   else if( isOver ) then
     size + 1
   else if( i + 1 &lt; length (!nodeList) ) then
     getNodeDead_( size , i + 1 )
   else
     size
 end;
          <layout>fun getNodeDead_( size:INT , i:INT ) =
 let
   val node = getNode( i + 1 );
   val isOver = isBatteryOver( node );
 in
   if( isOver andalso i + 1 &lt; length (!nodeList) ) then
     getNodeDead_( size + 1 , i + 1 )
   else if( isOver ) then
     size + 1
   else if( i + 1 &lt; length (!nodeList) ) then
     getNodeDead_( size , i + 1 )
   else
     size
 end;</layout>

        </ml>

        <ml id="ID55">fun getNodeDead() =
(
   getNodeDead_( 0 , 0 )
);
          <layout>fun getNodeDead() =
(
   getNodeDead_( 0 , 0 )
);</layout>

        </ml>

      </block>
      </block>
      <block id="ID665">
        <id>MAC Layer</id>

      </block>
      <block id="ID457">
        <id>Network Layer</id>

        <color id="ID458">
          <id>NETWORK_PROTOCOL</id>
          <record>
            <recordfield>
              <id>msgType</id>
              <id>ROUTING_TYPE</id>
            </recordfield>
            <recordfield>
              <id>to</id>
              <id>INT</id>
            </recordfield>
            <recordfield>
              <id>cost</id>
              <id>INT</id>
            </recordfield>
          </record>

          <layout>colset NETWORK_PROTOCOL = record
        msgType:ROUTING_TYPE
     * to:INT
     * cost:INT;
          </layout>

        </color>
        <var id="ID459">
          <type>
            <id>ROUTING</id>
          </type>

        <id>rVar</id>
        <id>rVar2</id>
        <id>rVar3</id>
          <layout>var rVar, rVar2, rVar3 : ROUTING;</layout>
        </var>
        <var id="ID460">
          <type>
            <id>INT</id>
          </type>

        <id>i</id>
        <id>i2</id>
          <layout>var i  , i2 : INT;</layout>
        </var>
        <var id="ID461">
          <type>
            <id>NETWORK_PROTOCOL</id>
          </type>

        <id>nVar</id>
          <layout>var nVar : NETWORK_PROTOCOL;</layout>
        </var>
      <block id="ID462">
        <id>Routing Table</id>

        <globref id="ID463">
          <id>routingIsChange</id>
          <ml>false : bool</ml>
          <layout>globref routingIsChange = false : bool;</layout>
        </globref>

        <ml id="ID464">fun getRoutingTable( to:int , l:ROUTING_LIST , i:int ) =
(
  if( length l = i ) then {destination=to,neighbor=0,cost=0}
  else if( to = #destination (List.nth(l,i)) ) then List.nth(l,i)
  else getRoutingTable( to , l , i + 1 )
);
          <layout>fun getRoutingTable( to:int , l:ROUTING_LIST , i:int ) =
(
  if( length l = i ) then {destination=to,neighbor=0,cost=0}
  else if( to = #destination (List.nth(l,i)) ) then List.nth(l,i)
  else getRoutingTable( to , l , i + 1 )
);</layout>

        </ml>

        <ml id="ID465">fun getRouting( n:NODE , to:int ) =
(
   getRoutingTable( to , #routing n , 0 )
);
          <layout>fun getRouting( n:NODE , to:int ) =
(
   getRoutingTable( to , #routing n , 0 )
);</layout>

        </ml>

        <ml id="ID466">fun checkRoutingBetween( r1:ROUTING , r2:ROUTING ) =
(
   if( #neighbor r2 = 0 ) then true
   else if( #cost r1 &lt; #cost r2 ) then true
   else false
);
          <layout>fun checkRoutingBetween( r1:ROUTING , r2:ROUTING ) =
(
   if( #neighbor r2 = 0 ) then true
   else if( #cost r1 &lt; #cost r2 ) then true
   else false
);</layout>

        </ml>

        <ml id="ID467">fun addRoutingTable( r:ROUTING , l:ROUTING_LIST , i:INT ) =
(
   if( length l = i )
      then [r]
   else if( #destination r = #destination (List.nth(l,i)) )
      then addRoutingTable( r , l , i + 1 )
   else (List.nth(l,i))::addRoutingTable( r , l , i + 1 )
);
          <layout>fun addRoutingTable( r:ROUTING , l:ROUTING_LIST , i:INT ) =
(
   if( length l = i )
      then [r]
   else if( #destination r = #destination (List.nth(l,i)) )
      then addRoutingTable( r , l , i + 1 )
   else (List.nth(l,i))::addRoutingTable( r , l , i + 1 )
);</layout>

        </ml>

        <ml id="ID468">fun addRouting( n:NODE , r:ROUTING ) =
(
  addRoutingTable( r , #routing n , 0 )
);
          <layout>fun addRouting( n:NODE , r:ROUTING ) =
(
  addRoutingTable( r , #routing n , 0 )
);</layout>

        </ml>

        <ml id="ID469">fun checkRoutingTable( r:ROUTING , l:ROUTING_LIST , i:INT ) =
(
  if( length l = i ) then true
  else if( checkRoutingBetween( r , List.nth(l,i) ) ) then true
  else checkRoutingTable( r , l , i + 1 )
);
          <layout>fun checkRoutingTable( r:ROUTING , l:ROUTING_LIST , i:INT ) =
(
  if( length l = i ) then true
  else if( checkRoutingBetween( r , List.nth(l,i) ) ) then true
  else checkRoutingTable( r , l , i + 1 )
);</layout>

        </ml>

        <ml id="ID470">fun checkRouting( n:NODE , r:ROUTING ) =
let
  val table = #routing n;
  val to = #destination r;
in
  if( checkRoutingBetween( getRouting(n,to) , r ) )
     then addRouting(  n , r )
  else (#routing n)
end;
          <layout>fun checkRouting( n:NODE , r:ROUTING ) =
let
  val table = #routing n;
  val to = #destination r;
in
  if( checkRoutingBetween( getRouting(n,to) , r ) )
     then addRouting(  n , r )
  else (#routing n)
end;</layout>

        </ml>

        <ml id="ID471">fun initRoutingCalc( n1:NODE , neighbor:int , r:ROUTING ) =
let
  val n2 = getNode( neighbor );
  val r2 = getRouting( n2 , #destination r );
  val rToN2 = getRouting( n1 , neighbor );
  val cost = (#cost r2) + (#cost rToN2);
  val newRouting = {destination=(#destination r),neighbor=neighbor,cost=cost};
in
  if( length (!nodeList) = neighbor )  then
    (
      if (cost &lt; (#cost r)) then
         (
           routingIsChange := true;
           newRouting
         )
      else r
    )
  else if( cost &lt; (#cost r) ) then
    (
      routingIsChange := true;
      initRoutingCalc( n1 , neighbor + 1, newRouting )
    )
  else
    initRoutingCalc( n1 , neighbor + 1, r )
end;
          <layout>fun initRoutingCalc( n1:NODE , neighbor:int , r:ROUTING ) =
let
  val n2 = getNode( neighbor );
  val r2 = getRouting( n2 , #destination r );
  val rToN2 = getRouting( n1 , neighbor );
  val cost = (#cost r2) + (#cost rToN2);
  val newRouting = {destination=(#destination r),neighbor=neighbor,cost=cost};
in
  if( length (!nodeList) = neighbor )  then
    (
      if (cost &lt; (#cost r)) then
         (
           routingIsChange := true;
           newRouting
         )
      else r
    )
  else if( cost &lt; (#cost r) ) then
    (
      routingIsChange := true;
      initRoutingCalc( n1 , neighbor + 1, newRouting )
    )
  else
    initRoutingCalc( n1 , neighbor + 1, r )
end;</layout>

        </ml>

        <ml id="ID472">fun initRoutingNode( n:NODE , table:ROUTING_LIST, to:int ) =
let
  val r1 = getRouting( n , to );
  val r2 = initRoutingCalc( n , 1 , r1 );
in
  if( length (!nodeList) = to ) then
    r2::table
  else
    initRoutingNode( n , r2::table , to + 1 )
end;
          <layout>fun initRoutingNode( n:NODE , table:ROUTING_LIST, to:int ) =
let
  val r1 = getRouting( n , to );
  val r2 = initRoutingCalc( n , 1 , r1 );
in
  if( length (!nodeList) = to ) then
    r2::table
  else
    initRoutingNode( n , r2::table , to + 1 )
end;</layout>

        </ml>

        <ml id="ID473">fun initRouting_( id:int ) =
let
  val node = getNode( id );
  val table = initRoutingNode ( node , [] , 1 );
in
  updateNode( setNodeRouting ( node , table ) );

  if( id &lt; length (!nodeList) )
    then initRouting_( id + 1 )
  else ()
end;
          <layout>fun initRouting_( id:int ) =
let
  val node = getNode( id );
  val table = initRoutingNode ( node , [] , 1 );
in
  updateNode( setNodeRouting ( node , table ) );

  if( id &lt; length (!nodeList) )
    then initRouting_( id + 1 )
  else ()
end;</layout>

        </ml>

        <ml id="ID474">fun initRouting() =
(
  routingIsChange := false;
  initRouting_( 1 );

  if( !routingIsChange ) then initRouting()
  else ()
);
          <layout>fun initRouting() =
(
  routingIsChange := false;
  initRouting_( 1 );

  if( !routingIsChange ) then initRouting()
  else ()
);</layout>

        </ml>

      </block>
      </block>
      <block id="ID271">
        <id>Application Layer</id>

        <ml id="ID272">fun isToRun( n:NODE ) =
let
  val nextTime = real (#app_nextTime n) / 1000.0;
in
  nextTime  &lt;= !timeGlobal
end;
          <layout>fun isToRun( n:NODE ) =
let
  val nextTime = real (#app_nextTime n) / 1000.0;
in
  nextTime  &lt;= !timeGlobal
end;</layout>

        </ml>

      </block>
      <block id="ID56">
        <id>Network</id>

      <block id="ID57">
        <id>Neighbor Table</id>

        <globref id="ID58">
          <id>neighborSize</id>
          <ml>0 : int</ml>
          <layout>globref neighborSize = 0 : int;</layout>
        </globref>

        <ml id="ID59">fun isNeighbor( from:NODE, to:NODE ) =
let
   val d = euclideanDistance( from , to )
in
  if( d &lt; real (#range from) ) then true
  else false
end;
          <layout>fun isNeighbor( from:NODE, to:NODE ) =
let
   val d = euclideanDistance( from , to )
in
  if( d &lt; real (#range from) ) then true
  else false
end;</layout>

        </ml>

        <ml id="ID60">fun isReceive( p:PACKET, id:INT) =
let
  val nFrom = List.nth( !nodeList , #from p - 1 )
  val node = List.nth( !nodeList , id - 1 )
in
   if((#from p) = id) then false
   else if( isNeighbor( nFrom , node ) ) then true
   else false
end;
          <layout>fun isReceive( p:PACKET, id:INT) =
let
  val nFrom = List.nth( !nodeList , #from p - 1 )
  val node = List.nth( !nodeList , id - 1 )
in
   if((#from p) = id) then false
   else if( isNeighbor( nFrom , node ) ) then true
   else false
end;</layout>

        </ml>

        <ml id="ID61">fun createNeighborList( p:PACKET, id:int , list:INT_LIST ) =
let
   val list2 = [id] : INT_LIST;
in
   if(  isReceive( p , id ) ) then list^^list2
   else list
end;
          <layout>fun createNeighborList( p:PACKET, id:int , list:INT_LIST ) =
let
   val list2 = [id] : INT_LIST;
in
   if(  isReceive( p , id ) ) then list^^list2
   else list
end;</layout>

        </ml>

        <ml id="ID62">fun addNeighborList( p:PACKET , id:int , size:int , list:INT_LIST ) =
let
    val list2 = createNeighborList( p , id , list );
in
  if( id &lt; size ) then
     addNeighborList( p , id+1 , size , list )^^list2
  else list2
end;
          <layout>fun addNeighborList( p:PACKET , id:int , size:int , list:INT_LIST ) =
let
    val list2 = createNeighborList( p , id , list );
in
  if( id &lt; size ) then
     addNeighborList( p , id+1 , size , list )^^list2
  else list2
end;</layout>

        </ml>

        <ml id="ID63">fun getNeighborList( p:PACKET ) =
let
   val size = length (!nodeList);
in
   addNeighborList( p , 1 , size , nil )
end;
          <layout>fun getNeighborList( p:PACKET ) =
let
   val size = length (!nodeList);
in
   addNeighborList( p , 1 , size , nil )
end;</layout>

        </ml>

        <ml id="ID64">fun getNeighbor( node:int ) =
(
   {destination=1,neighbor=1,cost=1}
);
          <layout>fun getNeighbor( node:int ) =
(
   {destination=1,neighbor=1,cost=1}
);</layout>

        </ml>

        <ml id="ID65">fun cost( n1:int , n2:int ) =
let
   val N1 = List.nth( !nodeList , n1  - 1 );
   val N2 = List.nth( !nodeList , n2 - 1 );
   val d = euclideanDistance( N1 , N2 );
   val r  = {destination=n2,neighbor=n2,cost=0};
in
   if( d &lt; 40.0 ) then
      1
   else if( d &lt; 45.0 ) then
      2
   else if( d &lt; 50.0 ) then
      3
   else
      999
end;
          <layout>fun cost( n1:int , n2:int ) =
let
   val N1 = List.nth( !nodeList , n1  - 1 );
   val N2 = List.nth( !nodeList , n2 - 1 );
   val d = euclideanDistance( N1 , N2 );
   val r  = {destination=n2,neighbor=n2,cost=0};
in
   if( d &lt; 40.0 ) then
      1
   else if( d &lt; 45.0 ) then
      2
   else if( d &lt; 50.0 ) then
      3
   else
      999
end;</layout>

        </ml>

        <ml id="ID66">fun initNeighborNode( n1:NODE , n2:int ) =
let
  val cost = cost( #id n1 , n2 );
  val r = {destination=n2,neighbor=n2,cost=cost};
  val clone = setNodeRouting( n1 , addRouting( n1 , r )) ;
in
  if( length (!nodeList) = n2 ) then (#routing clone)
  else initNeighborNode( clone , n2 + 1 )
end;
          <layout>fun initNeighborNode( n1:NODE , n2:int ) =
let
  val cost = cost( #id n1 , n2 );
  val r = {destination=n2,neighbor=n2,cost=cost};
  val clone = setNodeRouting( n1 , addRouting( n1 , r )) ;
in
  if( length (!nodeList) = n2 ) then (#routing clone)
  else initNeighborNode( clone , n2 + 1 )
end;</layout>

        </ml>

        <ml id="ID67">fun initNeighbor( id:int ) =
let
  val node = getNode( id );
  val table = initNeighborNode( node , 1 );
in
  updateNode( setNodeRouting( node , table ) );

  if( id &lt; length (!nodeList) )
     then initNeighbor( id + 1 )
  else ()
end;
          <layout>fun initNeighbor( id:int ) =
let
  val node = getNode( id );
  val table = initNeighborNode( node , 1 );
in
  updateNode( setNodeRouting( node , table ) );

  if( id &lt; length (!nodeList) )
     then initNeighbor( id + 1 )
  else ()
end;</layout>

        </ml>

      </block>
      <block id="ID68">
        <id>Packet Function</id>

        <globref id="ID69">
          <id>packetList</id>
          <ml>nil : PACKET list</ml>
          <layout>globref packetList = nil : PACKET list;</layout>
        </globref>

        <ml id="ID70">fun addDelay( p:PACKET , t:real ) =
let
  val delay = realToInt( t );
in
  PACKET.set_delay p ((#delay p) + delay)
end;
          <layout>fun addDelay( p:PACKET , t:real ) =
let
  val delay = realToInt( t );
in
  PACKET.set_delay p ((#delay p) + delay)
end;</layout>

        </ml>

        <ml id="ID71">fun newPacket( pID:int , sID:int, dID:int ) =
(
  {
    id=pID,
    from=0,
    to=0,
    routingType=APPLICATION,
    source=sID,
    destination=dID,
    cost=0,
    processBy=0,
    delay = 0,
    length = 224,
    lost = NOT_LOST
  }
);
          <layout>fun newPacket( pID:int , sID:int, dID:int ) =
(
  {
    id=pID,
    from=0,
    to=0,
    routingType=APPLICATION,
    source=sID,
    destination=dID,
    cost=0,
    processBy=0,
    delay = 0,
    length = 224,
    lost = NOT_LOST
  }
);</layout>

        </ml>

        <ml id="ID72">fun setPacket( p:PACKET , r:ROUTING  , t:real ) =
let
  val delay = realToInt( t );
in
  { id = #id p,
     from = #from p,
     to = #neighbor r,
     routingType=APPLICATION,
     source= #source p,
     destination = #destination p,
     cost=0,
     processBy=0,
     delay= (#delay p) + delay,
     length = (#length p),
     lost = (#lost p)
  }
end;
          <layout>fun setPacket( p:PACKET , r:ROUTING  , t:real ) =
let
  val delay = realToInt( t );
in
  { id = #id p,
     from = #from p,
     to = #neighbor r,
     routingType=APPLICATION,
     source= #source p,
     destination = #destination p,
     cost=0,
     processBy=0,
     delay= (#delay p) + delay,
     length = (#length p),
     lost = (#lost p)
  }
end;</layout>

        </ml>

        <ml id="ID73">fun sendMsgTo( id : int ) =
(
  if( id = 1 ) then 4
  else if( id = 2 ) then 1
  else if( id = 3 ) then 2
  else 3
);
          <layout>fun sendMsgTo( id : int ) =
(
  if( id = 1 ) then 4
  else if( id = 2 ) then 1
  else if( id = 3 ) then 2
  else 3
);</layout>

        </ml>

        <ml id="ID74">fun addLost( p:PACKET , reason:LOST_TYPE ) =
let
  val p1 = PACKET.set_lost p reason;
in
  packetList := ins (!packetList)  p1
end;
          <layout>fun addLost( p:PACKET , reason:LOST_TYPE ) =
let
  val p1 = PACKET.set_lost p reason;
in
  packetList := ins (!packetList)  p1
end;</layout>

        </ml>

        <ml id="ID75">fun addPacket( p:PACKET ) =
(
  packetList := ins (!packetList) p
);
          <layout>fun addPacket( p:PACKET ) =
(
  packetList := ins (!packetList) p
);</layout>

        </ml>

      </block>
        <ml id="ID76">fun initNetwork() =
(
  timeGlobal := 0.0;
  timeLast := 0.0;
  packetList := nil;

  initNode();
  initNeighbor( 1 );
  initRouting();

  !nodeList
);
          <layout>fun initNetwork() =
(
  timeGlobal := 0.0;
  timeLast := 0.0;
  packetList := nil;

  initNode();
  initNeighbor( 1 );
  initRouting();

  !nodeList
);</layout>

        </ml>

        <ml id="ID9363463">fun getNeighborBasedOnPacket( pVar : PACKET ) =
let
  val l = getNeighborList( pVar );
  val to = (fn a => a = (#to pVar));
  val isNeighbor = List.exists to l;
  val existDestination = existNode( #destination pVar );
in
  if( not existDestination ) then
     addLost( pVar , NODE_NOT_EXIST )
  else if( isNeighbor orelse #to pVar &lt;> 1 ) then
    ()
  else addLost( pVar , OUT_OF_RANGE );

  l
end;
          <layout>fun getNeighborBasedOnPacket( pVar : PACKET ) =
let
  val l = getNeighborList( pVar );
  val to = (fn a => a = (#to pVar));
  val isNeighbor = List.exists to l;
  val existDestination = existNode( #destination pVar );
in
  if( not existDestination ) then
     addLost( pVar , NODE_NOT_EXIST )
  else if( isNeighbor orelse #to pVar &lt;> 1 ) then
    ()
  else addLost( pVar , OUT_OF_RANGE );

  l
end;</layout>

        </ml>

        <ml id="ID9372701">fun duplicatePacket( l : INT_LIST , i : INT , p : PACKET ) =
let
  val nodeId = List.nth( l , i );
  val packet = PACKET.set_processBy p nodeId;
in
  if( i + 1 = length l ) then
    packet::[]
  else
    packet::duplicatePacket( l , i + 1 , p )
end;
          <layout>fun duplicatePacket( l : INT_LIST , i : INT , p : PACKET ) =
let
  val nodeId = List.nth( l , i );
  val packet = PACKET.set_processBy p nodeId;
in
  if( i + 1 = length l ) then
    packet::[]
  else
    packet::duplicatePacket( l , i + 1 , p )
end;</layout>

        </ml>

      </block>
      <block id="ID77">
        <id>Energy Calc</id>

        <globref id="ID78">
          <id>volt</id>
          <ml>3.0 : real</ml>
          <layout>globref volt = 3.0 : real;</layout>
        </globref>

        <ml id="ID79">fun calcTimeTXorRX( n:NODE , p:PACKET ) =
let
  val packet_size = real (#length p);
  val radio_bandwidth = real (#radio_bandwidth n);
in
  packet_size / radio_bandwidth
end;
          <layout>fun calcTimeTXorRX( n:NODE , p:PACKET ) =
let
  val packet_size = real (#length p);
  val radio_bandwidth = real (#radio_bandwidth n);
in
  packet_size / radio_bandwidth
end;</layout>

        </ml>

        <ml id="ID80">fun calcEnergyTX( n:NODE  , p:PACKET ) =
let
   val radio_tx = real (#radio_tx n) / 1000000.0;
   val cpu = real (#cpu n) / 1000000.0;
   val power = !volt * ( radio_tx + cpu );
in
   power * calcTimeTXorRX( n , p )
end;
          <layout>fun calcEnergyTX( n:NODE  , p:PACKET ) =
let
   val radio_tx = real (#radio_tx n) / 1000000.0;
   val cpu = real (#cpu n) / 1000000.0;
   val power = !volt * ( radio_tx + cpu );
in
   power * calcTimeTXorRX( n , p )
end;</layout>

        </ml>

        <ml id="ID81">fun calcEnergyRX( n:NODE , p:PACKET ) =
let
  val radio_rx = real (#radio_rx n) / 1000000.0;
  val cpu = real (#cpu n) / 1000000.0;
  val power = !volt * ( radio_rx + cpu );
in
  power * calcTimeTXorRX( n , p )
end;
          <layout>fun calcEnergyRX( n:NODE , p:PACKET ) =
let
  val radio_rx = real (#radio_rx n) / 1000000.0;
  val cpu = real (#cpu n) / 1000000.0;
  val power = !volt * ( radio_rx + cpu );
in
  power * calcTimeTXorRX( n , p )
end;</layout>

        </ml>

        <ml id="ID82">fun calcEnergyListen( n:NODE , time:real ) =
let
  val listen = real (#radio_listen n) / 1000000.0;
in
  !volt * listen * time
end;
          <layout>fun calcEnergyListen( n:NODE , time:real ) =
let
  val listen = real (#radio_listen n) / 1000000.0;
in
  !volt * listen * time
end;</layout>

        </ml>

        <ml id="ID83">fun calcEnergyCPU( n:NODE , t:real ) =
let
  val listen = real (#radio_listen n) / 1000000.0;
  val cpu = real (#cpu n) / 1000000.0;
in
  !volt * (listen + cpu) * t
end;
          <layout>fun calcEnergyCPU( n:NODE , t:real ) =
let
  val listen = real (#radio_listen n) / 1000000.0;
  val cpu = real (#cpu n) / 1000000.0;
in
  !volt * (listen + cpu) * t
end;</layout>

        </ml>

      </block>
    </globbox>

    <page id="ID84">
      <pageattr name="Network"/>

      <place id="ID99">
        <posattr x="156.0" y="136.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>receive</text>
        <ellipse w="60.0" h="40.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID101">
          <posattr x="186.0" y="106.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">PACKET</text>
        </type>
        <initmark id="ID100">
          <posattr x="186.0" y="166.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID102">
        <posattr x="156.0" y="-140.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>send</text>
        <ellipse w="60.0" h="40.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID104">
          <posattr x="186.0" y="-170.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">PACKET</text>
        </type>
        <initmark id="ID103">
          <posattr x="186.0" y="-110.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID105">
        <posattr x="416.0" y="-3.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Node
Repository</text>
        <ellipse w="110.0" h="94.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID107">
          <posattr x="446.0" y="-33.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID106">
          <posattr x="446.0" y="27.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <trans id="ID180" explicit="false">
        <posattr x="156.0" y="224.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Environment</text>
        <box w="120.0" h="44.0"/>
        <subst subpage="ID108" portsock="(ID132,ID102)(ID136,ID99)">
        <subpageinfo id="ID184" name="Environment">
          <posattr x="156.0" y="198.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </subpageinfo>
        </subst>        <binding x="7.0" y="-3.0"/>
        <cond id="ID182">
          <posattr x="156.0" y="214.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID185">
          <posattr x="146.0" y="219.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID183">
          <posattr x="196.0" y="254.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </code>
        <channel id="ID181">
          <posattr x="62.5" y="224.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1856">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID186" explicit="false">
        <posattr x="156.0" y="-3.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>node</text>
        <box w="60.0" h="40.0"/>
        <subst subpage="ID699" portsock="(ID767,ID102)(ID770,ID99)(ID773,ID105)">
        <subpageinfo id="ID190" name="MAC Layer">
          <posattr x="141.0" y="-27.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </subpageinfo>
        </subst>        <binding x="7.0" y="-3.0"/>
        <cond id="ID188">
          <posattr x="156.0" y="-13.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID191">
          <posattr x="146.0" y="-8.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID189">
          <posattr x="196.0" y="27.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </code>
        <channel id="ID187">
          <posattr x="92.5" y="-3.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1857">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <arc id="ID85" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID180"/>
        <placeend idref="ID102"/>
        <bendpoint id="ID87" serial="1">
          <posattr x="14.0" y="224.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <bendpoint id="ID88" serial="2">
          <posattr x="14.0" y="-140.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID86">
          <posattr x="54.0" y="235.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">pVar</text>
        </annot>
      </arc>

      <arc id="ID89" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID186"/>
        <placeend idref="ID99"/>
        <annot id="ID90">
          <posattr x="168.0" y="77.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">pVar</text>
        </annot>
      </arc>

      <arc id="ID91" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID186"/>
        <placeend idref="ID102"/>
        <annot id="ID92">
          <posattr x="174.0" y="-80.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">pVar</text>
        </annot>
      </arc>

      <arc id="ID93" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID180"/>
        <placeend idref="ID99"/>
        <annot id="ID94">
          <posattr x="136.0" y="205.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </annot>
      </arc>

      <arc id="ID95" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID186"/>
        <placeend idref="ID105"/>
        <annot id="ID96">
          <posattr x="263.0" y="-21.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID97" orientation="PtoT" order="2">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID186"/>
        <placeend idref="ID105"/>
        <annot id="ID98">
          <posattr x="261.0" y="15.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>
    </page>

    <page id="ID108">
      <pageattr name="Environment"/>

      <place id="ID132">
        <posattr x="-280.0" y="96.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>send</text>
        <ellipse w="60.0" h="40.0"/>
        <token x="-44.0" y="24.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID135">
          <posattr x="-250.0" y="66.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">PACKET</text>
        </type>
        <initmark id="ID134">
          <posattr x="-250.0" y="126.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1280" type="In">
          <posattr x="-290.0" y="76.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID136">
        <posattr x="-279.0" y="-33.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>receive</text>
        <ellipse w="60.0" h="40.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID139">
          <posattr x="-249.0" y="-63.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">PACKET</text>
        </type>
        <initmark id="ID138">
          <posattr x="-249.0" y="-3.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1286" type="Out">
          <posattr x="-289.0" y="-53.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <trans id="ID9356301" explicit="false">
        <posattr x="-4.0" y="33.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>duplicate</text>
        <box w="76.0" h="40.0"/>
        <binding x="7.2" y="-3.0"/>
        <cond id="ID9356302">
          <posattr x="-4.0" y="23.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID9356303">
          <posattr x="-14.0" y="28.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID9356304">
          <posattr x="36.0" y="63.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input ( pVar );
output ( intListVar );
action
( getNeighborBasedOnPacket( pVar ) );</text>
        </code>
        <channel id="ID9356305">
          <posattr x="-75.5" y="33.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1858">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <arc id="ID9383698" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID9356301"/>
        <placeend idref="ID132"/>
        <bendpoint id="ID9394619" serial="1">
          <posattr x="-4.0" y="96.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID9383699">
          <posattr x="-113.0" y="107.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">pVar</text>
        </annot>
      </arc>

      <arc id="ID9384506" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID9356301"/>
        <placeend idref="ID136"/>
        <bendpoint id="ID9392747" serial="1">
          <posattr x="-4.0" y="-33.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID9385329">
          <posattr x="-36.0" y="-58.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">if( length intListVar = 0 )
  then empty
else duplicatePacket( intListVar , 0 , pVar )</text>
        </annot>
      </arc>
    </page>

    <page id="ID699">
      <pageattr name="MAC Layer"/>

      <place id="ID758">
        <posattr x="431.0" y="67.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>overhearing</text>
        <ellipse w="100.0" h="40.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID760">
          <posattr x="461.0" y="37.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">ENTRY</text>
        </type>
        <initmark id="ID759">
          <posattr x="461.0" y="97.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID761">
        <posattr x="179.0" y="175.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Network
Layer
Receive</text>
        <ellipse w="106.0" h="64.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID763">
          <posattr x="209.0" y="145.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">ENTRY</text>
        </type>
        <initmark id="ID762">
          <posattr x="209.0" y="205.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID764">
        <posattr x="-402.0" y="153.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Network
Layer
Send</text>
        <ellipse w="96.0" h="68.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID766">
          <posattr x="-372.0" y="123.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">ENTRY</text>
        </type>
        <initmark id="ID765">
          <posattr x="-372.0" y="183.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID767">
        <posattr x="-402.0" y="-271.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>send</text>
        <ellipse w="60.0" h="40.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID769">
          <posattr x="-372.0" y="-301.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">PACKET</text>
        </type>
        <initmark id="ID768">
          <posattr x="-372.0" y="-241.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1325" type="Out">
          <posattr x="-412.0" y="-291.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID770">
        <posattr x="179.0" y="-647.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>receive</text>
        <ellipse w="60.0" h="40.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID772">
          <posattr x="209.0" y="-677.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">PACKET</text>
        </type>
        <initmark id="ID771">
          <posattr x="209.0" y="-617.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1331" type="In">
          <posattr x="169.0" y="-667.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID773">
        <posattr x="-90.0" y="-677.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Node
Repository</text>
        <ellipse w="82.0" h="62.0"/>
        <token x="-100.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID775">
          <posattr x="-60.0" y="-707.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID774">
          <posattr x="-60.0" y="-647.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1337" type="I/O">
          <posattr x="-100.0" y="-697.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID776">
        <posattr x="179.0" y="-203.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>received</text>
        <ellipse w="76.0" h="58.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID778">
          <posattr x="209.0" y="-233.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">ENTRY</text>
        </type>
        <initmark id="ID777">
          <posattr x="209.0" y="-173.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID779">
        <posattr x="-638.0" y="151.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Network
Layer
Stop</text>
        <ellipse w="96.0" h="68.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID781">
          <posattr x="-608.0" y="121.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID780">
          <posattr x="-608.0" y="181.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID782">
        <posattr x="-855.0" y="155.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Network
Layer
Start</text>
        <ellipse w="96.0" h="68.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID784">
          <posattr x="-825.0" y="125.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID783">
          <posattr x="-825.0" y="185.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <trans id="ID785" explicit="false">
        <posattr x="179.0" y="-49.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>check</text>
        <box w="94.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID787">
          <posattr x="179.0" y="-59.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID790">
          <posattr x="169.0" y="-54.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID788">
          <posattr x="219.0" y="-19.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input ( eVar2 )
output ( eVar,resp )
action
 let
  val pVar = #p eVar2;
  val nodeVar = #n eVar2;
  val t = calcTimeTXorRX( #n eVar2 , #p eVar2 );
  val e = calcEnergyRX( #n eVar2 , #p eVar2 );
  val n = setNodeTimeAndEnergy( nodeVar , 0.0 , e );
  val n1 = setNodeMsg( n , 0 , 1 , 0 , 0 );
 in
  if(#to pVar = #id n1)
     then ({p=pVar,n=n1},1)
  else if( #to pVar = ~1 )
     then ({p=pVar,n=n1},1)
  else ({p=pVar,n=n1},0)
 end;</text>
        </code>
        <channel id="ID786">
          <posattr x="98.5" y="-49.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1859">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID791" explicit="false">
        <posattr x="619.0" y="67.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>overhearing
process</text>
        <box w="98.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID793">
          <posattr x="619.0" y="57.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID796">
          <posattr x="609.0" y="62.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID794">
          <posattr x="659.0" y="97.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input ( eVar );
output ( nodeVar );
action
(
  setNodeMsg( (#n eVar) , 0 , 0 , 0 , 1 )
);</text>
        </code>
        <channel id="ID792">
          <posattr x="536.5" y="67.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1860">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID797" explicit="false">
        <posattr x="-402.0" y="-52.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Check
Channel</text>
        <box w="80.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID799">
          <posattr x="-402.0" y="-62.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID802">
          <posattr x="-412.0" y="-57.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID800">
          <posattr x="-362.0" y="-22.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input( eVar );
output ( eVar2 );
action
 let
  val t = calcTimeTXorRX( #n eVar , #p eVar );
  val e = calcEnergyTX( #n eVar , #p eVar );
  val n = setNodeTimeAndEnergy
              ( #n eVar , 0.0 , e );
  val n1 = setNodeMsg( n , 1 , 0 , 0 ,0 );
  val p = addDelay( #p eVar , t );
 in
  {p=p,n=n1}
end;</text>
        </code>
        <channel id="ID798">
          <posattr x="-475.5" y="-52.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1861">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID803" explicit="false">
        <posattr x="-90.0" y="242.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Network
Layer</text>
        <box w="98.0" h="40.0"/>
        <subst subpage="ID509" portsock="(ID553,ID773)(ID541,ID761)(ID544,ID764)(ID565,ID782)(ID562,ID779)">
        <subpageinfo id="ID807" name="Network Layer">
          <posattr x="-90.0" y="242.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </subpageinfo>
        </subst>        <binding x="7.0" y="-3.0"/>
        <cond id="ID805">
          <posattr x="-90.0" y="232.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID808">
          <posattr x="-100.0" y="237.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID806">
          <posattr x="-50.0" y="272.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </code>
        <channel id="ID804">
          <posattr x="-172.5" y="242.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1862">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID809" explicit="false">
        <posattr x="179.0" y="-455.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>radioIsOn</text>
        <box w="88.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID811">
          <posattr x="179.0" y="-465.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">[#processBy pVar
           =
 #id nodeVar]</text>
        </cond>
        <time id="ID814">
          <posattr x="169.0" y="-460.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID812">
          <posattr x="219.0" y="-425.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input ( pVar,nodeVar )
output ( eVar,resp )
action
 let
  val value = uniform( 0.0 , 100.0 );
  val duty_cicle = real (#duty_cicle nodeVar );
 in
  if( isBatteryOver( nodeVar ) ) then
    (
      (** addLost( pVar , NODE_OFF ); **)
      ({p=pVar,n=nodeVar},0)
    )
   else if( value &lt; duty_cicle
                    orelse
               not (#radio_status nodeVar) ) then
    (
      (** addLost( pVar , RADIO_OFF ); **)
      ({p=pVar,n=nodeVar},0)
    )
  else ({p=pVar,n=nodeVar},1)
 end;</text>
        </code>
        <channel id="ID810">
          <posattr x="101.5" y="-455.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1863">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID815" explicit="false">
        <posattr x="-855.0" y="-523.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>start</text>
        <box w="60.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID817">
          <posattr x="-855.0" y="-533.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID820">
          <posattr x="-865.0" y="-528.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID818">
          <posattr x="-815.0" y="-493.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input ( nodeVar2 );
output ( nodeVar );
action
(
   NODE.set_radio_status
     nodeVar2 true
);</text>
        </code>
        <channel id="ID816">
          <posattr x="-918.5" y="-523.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1864">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID821" explicit="false">
        <posattr x="-638.0" y="-396.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>stop</text>
        <box w="60.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID823">
          <posattr x="-638.0" y="-406.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID826">
          <posattr x="-648.0" y="-401.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID824">
          <posattr x="-598.0" y="-366.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input ( nodeVar2 );
output ( nodeVar );
action
(
   NODE.set_radio_status
     nodeVar2 false
);</text>
        </code>
        <channel id="ID822">
          <posattr x="-701.5" y="-396.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1865">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <arc id="ID700" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID785"/>
        <placeend idref="ID758"/>
        <bendpoint id="ID702" serial="1">
          <posattr x="198.0" y="67.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID701">
          <posattr x="297.0" y="92.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">if( resp = 0)
   then 1`eVar
else empty</text>
        </annot>
      </arc>

      <arc id="ID703" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID785"/>
        <placeend idref="ID761"/>
        <annot id="ID704">
          <posattr x="132.0" y="83.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">if( resp = 1 )
  then 1`eVar
else empty</text>
        </annot>
      </arc>

      <arc id="ID705" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID791"/>
        <placeend idref="ID758"/>
        <annot id="ID706">
          <posattr x="526.0" y="78.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID707" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID797"/>
        <placeend idref="ID767"/>
        <annot id="ID708">
          <posattr x="-308.0" y="-198.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">PACKET.set_from
                   (#p eVar2)
                   (#id (#n eVar2))</text>
        </annot>
      </arc>

      <arc id="ID709" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID797"/>
        <placeend idref="ID764"/>
        <annot id="ID710">
          <posattr x="-383.5" y="42.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID711" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID791"/>
        <placeend idref="ID773"/>
        <bendpoint id="ID713" serial="1">
          <posattr x="594.0" y="-689.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID712">
          <posattr x="105.0" y="-700.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID714" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID797"/>
        <placeend idref="ID773"/>
        <bendpoint id="ID716" serial="1">
          <posattr x="-542.0" y="-52.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <bendpoint id="ID717" serial="2">
          <posattr x="-542.0" y="-661.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID715">
          <posattr x="-507.0" y="-41.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">#n eVar2</text>
        </annot>
      </arc>

      <arc id="ID718" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID803"/>
        <placeend idref="ID761"/>
        <bendpoint id="ID720" serial="1">
          <posattr x="179.0" y="242.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID719">
          <posattr x="69.0" y="253.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID721" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID803"/>
        <placeend idref="ID764"/>
        <bendpoint id="ID723" serial="1">
          <posattr x="-402.0" y="242.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID722">
          <posattr x="-274.0" y="253.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID724" orientation="TtoP" order="2">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID803"/>
        <placeend idref="ID773"/>
        <bendpoint id="ID726" serial="1">
          <posattr x="-73.0" y="-231.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID725">
          <posattr x="-24.5" y="167.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID727" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID803"/>
        <placeend idref="ID773"/>
        <bendpoint id="ID729" serial="1">
          <posattr x="-105.0" y="-273.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID728">
          <posattr x="-155.5" y="172.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID730" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID785"/>
        <placeend idref="ID776"/>
        <annot id="ID731">
          <posattr x="201.5" y="-121.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar2</text>
        </annot>
      </arc>

      <arc id="ID732" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID809"/>
        <placeend idref="ID773"/>
        <bendpoint id="ID734" serial="1">
          <posattr x="-56.0" y="-466.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID733">
          <posattr x="-10.0" y="-477.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID735" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID809"/>
        <placeend idref="ID770"/>
        <annot id="ID736">
          <posattr x="197.5" y="-550.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">pVar</text>
        </annot>
      </arc>

      <arc id="ID737" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID809"/>
        <placeend idref="ID776"/>
        <annot id="ID738">
          <posattr x="226.0" y="-295.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">if( resp = 1 )
  then 1`eVar
else empty</text>
        </annot>
      </arc>

      <arc id="ID739" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID809"/>
        <placeend idref="ID773"/>
        <bendpoint id="ID741" serial="1">
          <posattr x="-74.0" y="-455.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID740">
          <posattr x="-3.0" y="-430.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">if( resp = 0)
   then 1`(#n eVar)
else empty</text>
        </annot>
      </arc>

      <arc id="ID742" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID803"/>
        <placeend idref="ID779"/>
        <bendpoint id="ID744" serial="1">
          <posattr x="-638.0" y="242.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID743">
          <posattr x="-529.0" y="253.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID745" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID803"/>
        <placeend idref="ID782"/>
        <bendpoint id="ID747" serial="1">
          <posattr x="-855.0" y="242.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID746">
          <posattr x="-766.0" y="253.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID748" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID821"/>
        <placeend idref="ID779"/>
        <annot id="ID749">
          <posattr x="-603.5" y="-130.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar2</text>
        </annot>
      </arc>

      <arc id="ID750" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID815"/>
        <placeend idref="ID782"/>
        <annot id="ID751">
          <posattr x="-820.5" y="-194.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar2</text>
        </annot>
      </arc>

      <arc id="ID752" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID821"/>
        <placeend idref="ID773"/>
        <bendpoint id="ID754" serial="1">
          <posattr x="-638.0" y="-677.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID753">
          <posattr x="-588.0" y="-666.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID755" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID815"/>
        <placeend idref="ID773"/>
        <bendpoint id="ID757" serial="1">
          <posattr x="-855.0" y="-693.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID756">
          <posattr x="-799.0" y="-682.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>
    </page>

    <page id="ID509">
      <pageattr name="Network Layer"/>

      <place id="ID541">
        <posattr x="-51.0" y="159.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Network
Layer
Receive</text>
        <ellipse w="106.0" h="64.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID543">
          <posattr x="-21.0" y="129.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">ENTRY</text>
        </type>
        <initmark id="ID542">
          <posattr x="-21.0" y="189.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1503" type="In">
          <posattr x="-61.0" y="139.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID544">
        <posattr x="-316.0" y="161.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Network
Layer
Send</text>
        <ellipse w="96.0" h="68.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID546">
          <posattr x="-286.0" y="131.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">ENTRY</text>
        </type>
        <initmark id="ID545">
          <posattr x="-286.0" y="191.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1509" type="Out">
          <posattr x="-326.0" y="141.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID547">
        <posattr x="-51.0" y="405.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Application
Layer
Receive</text>
        <ellipse w="108.0" h="66.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID549">
          <posattr x="-21.0" y="375.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">ENTRY</text>
        </type>
        <initmark id="ID548">
          <posattr x="-21.0" y="435.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID550">
        <posattr x="-316.0" y="377.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Application
Layer
Send</text>
        <ellipse w="108.0" h="66.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID552">
          <posattr x="-286.0" y="347.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">ENTRY</text>
        </type>
        <initmark id="ID551">
          <posattr x="-286.0" y="407.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID553">
        <posattr x="-316.0" y="729.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Node
Repository</text>
        <ellipse w="124.0" h="80.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID555">
          <posattr x="-286.0" y="699.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID554">
          <posattr x="-286.0" y="759.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1525" type="I/O">
          <posattr x="-326.0" y="709.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID556">
        <posattr x="-489.0" y="378.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Application
Layer
Stop</text>
        <ellipse w="108.0" h="66.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID558">
          <posattr x="-459.0" y="348.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID557">
          <posattr x="-459.0" y="408.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID559">
        <posattr x="-662.0" y="379.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Application
Layer
Start</text>
        <ellipse w="108.0" h="66.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID561">
          <posattr x="-632.0" y="349.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID560">
          <posattr x="-632.0" y="409.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID562">
        <posattr x="-489.0" y="165.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Network
Layer
Stop</text>
        <ellipse w="96.0" h="68.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID564">
          <posattr x="-459.0" y="135.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID563">
          <posattr x="-459.0" y="195.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1541" type="Out">
          <posattr x="-499.0" y="145.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID565">
        <posattr x="-662.0" y="152.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Network
Layer
Start</text>
        <ellipse w="96.0" h="68.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID567">
          <posattr x="-632.0" y="122.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID566">
          <posattr x="-632.0" y="182.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1547" type="Out">
          <posattr x="-672.0" y="132.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <trans id="ID568" explicit="false">
        <posattr x="-51.0" y="283.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>receive</text>
        <box w="78.0" h="48.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID570">
          <posattr x="-51.0" y="273.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID573">
          <posattr x="-61.0" y="278.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID571">
          <posattr x="-11.0" y="313.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </code>
        <channel id="ID569">
          <posattr x="-123.5" y="283.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1866">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID574" explicit="false">
        <posattr x="-316.0" y="272.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>send</text>
        <box w="80.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID576">
          <posattr x="-316.0" y="262.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID579">
          <posattr x="-326.0" y="267.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID577">
          <posattr x="-276.0" y="302.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </code>
        <channel id="ID575">
          <posattr x="-389.5" y="272.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1867">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID580" explicit="false">
        <posattr x="-316.0" y="530.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Application
Layer</text>
        <box w="106.0" h="40.0"/>
        <subst subpage="ID325" portsock="(ID357,ID550)(ID354,ID547)(ID366,ID559)(ID369,ID556)(ID363,ID553)">
        <subpageinfo id="ID584" name="Application Layer">
          <posattr x="-316.0" y="530.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </subpageinfo>
        </subst>        <binding x="7.0" y="-3.0"/>
        <cond id="ID582">
          <posattr x="-316.0" y="520.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID585">
          <posattr x="-326.0" y="525.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID583">
          <posattr x="-276.0" y="560.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </code>
        <channel id="ID581">
          <posattr x="-402.5" y="530.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1868">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID586" explicit="false">
        <posattr x="-489.0" y="269.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>stop</text>
        <box w="60.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID588">
          <posattr x="-489.0" y="259.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID591">
          <posattr x="-499.0" y="264.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID589">
          <posattr x="-449.0" y="299.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </code>
        <channel id="ID587">
          <posattr x="-552.5" y="269.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1869">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID592" explicit="false">
        <posattr x="-662.0" y="266.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>start</text>
        <box w="60.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID594">
          <posattr x="-662.0" y="256.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID597">
          <posattr x="-672.0" y="261.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID595">
          <posattr x="-622.0" y="296.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </code>
        <channel id="ID593">
          <posattr x="-725.5" y="266.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1870">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <arc id="ID510" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID568"/>
        <placeend idref="ID547"/>
        <annot id="ID511">
          <posattr x="-32.5" y="340.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID512" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID568"/>
        <placeend idref="ID541"/>
        <annot id="ID513">
          <posattr x="-32.5" y="206.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID514" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID574"/>
        <placeend idref="ID544"/>
        <annot id="ID515">
          <posattr x="-297.5" y="216.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID516" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID574"/>
        <placeend idref="ID550"/>
        <annot id="ID517">
          <posattr x="-297.5" y="332.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID518" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID580"/>
        <placeend idref="ID547"/>
        <bendpoint id="ID520" serial="1">
          <posattr x="-51.0" y="530.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID519">
          <posattr x="-158.0" y="541.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID521" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID580"/>
        <placeend idref="ID550"/>
        <annot id="ID522">
          <posattr x="-334.5" y="460.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID523" orientation="PtoT" order="2">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID580"/>
        <placeend idref="ID553"/>
        <annot id="ID524">
          <posattr x="-353.5" y="629.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID525" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID580"/>
        <placeend idref="ID553"/>
        <annot id="ID526">
          <posattr x="-278.5" y="628.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID527" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID586"/>
        <placeend idref="ID556"/>
        <annot id="ID528">
          <posattr x="-458.5" y="319.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID529" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID586"/>
        <placeend idref="ID562"/>
        <annot id="ID530">
          <posattr x="-458.5" y="224.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID531" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID592"/>
        <placeend idref="ID559"/>
        <annot id="ID532">
          <posattr x="-631.5" y="316.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID533" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID592"/>
        <placeend idref="ID565"/>
        <annot id="ID534">
          <posattr x="-631.5" y="216.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID535" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID580"/>
        <placeend idref="ID556"/>
        <bendpoint id="ID537" serial="1">
          <posattr x="-489.0" y="515.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID536">
          <posattr x="-427.0" y="504.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID538" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID580"/>
        <placeend idref="ID559"/>
        <bendpoint id="ID540" serial="1">
          <posattr x="-662.0" y="530.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID539">
          <posattr x="-605.0" y="541.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>
    </page>

    <page id="ID325">
      <pageattr name="Application Layer"/>

      <place id="ID354">
        <posattr x="-75.0" y="49.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Application
Layer
Receive</text>
        <ellipse w="108.0" h="66.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID356">
          <posattr x="-45.0" y="19.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">ENTRY</text>
        </type>
        <initmark id="ID355">
          <posattr x="-45.0" y="79.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1645" type="In">
          <posattr x="-85.0" y="29.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID357">
        <posattr x="-661.0" y="46.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Application
Layer
Send</text>
        <ellipse w="108.0" h="66.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID359">
          <posattr x="-631.0" y="16.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">ENTRY</text>
        </type>
        <initmark id="ID358">
          <posattr x="-631.0" y="76.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1651" type="Out">
          <posattr x="-671.0" y="26.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID360">
        <posattr x="-661.0" y="350.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>ping</text>
        <ellipse w="60.0" h="40.0"/>
        <token x="-78.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID362">
          <posattr x="-631.0" y="320.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">ENTRY</text>
        </type>
        <initmark id="ID361">
          <posattr x="-631.0" y="380.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID363">
        <posattr x="-75.0" y="735.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Node
Repository</text>
        <ellipse w="124.0" h="76.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID365">
          <posattr x="-45.0" y="705.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID364">
          <posattr x="-45.0" y="765.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1662" type="I/O">
          <posattr x="-85.0" y="715.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID366">
        <posattr x="478.0" y="735.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Application
Layer
Start</text>
        <ellipse w="108.0" h="66.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID368">
          <posattr x="508.0" y="705.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID367">
          <posattr x="508.0" y="765.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1668" type="Out">
          <posattr x="468.0" y="715.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID369">
        <posattr x="475.0" y="434.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Application
Layer
Stop</text>
        <ellipse w="108.0" h="66.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID371">
          <posattr x="505.0" y="404.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID370">
          <posattr x="505.0" y="464.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1674" type="Out">
          <posattr x="465.0" y="414.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <trans id="ID372" explicit="false">
        <posattr x="-75.0" y="211.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>App
Receive</text>
        <box w="108.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID374">
          <posattr x="-75.0" y="201.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID377">
          <posattr x="-85.0" y="206.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID375">
          <posattr x="-35.0" y="241.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input ( eVar );
output ( eVar2 );
action
 let
  val t = 0.0;
  val e = calcEnergyCPU( #n eVar , t );
  val n = setNodeTimeAndEnergy( #n eVar , t , e );
 in
  (** addPacket( #p eVar ); **)
  {p=(#p eVar),n=n}
 end;</text>
        </code>
        <channel id="ID373">
          <posattr x="-162.5" y="211.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1871">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID378" explicit="false">
        <posattr x="-661.0" y="211.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>App
Send</text>
        <box w="98.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID380">
          <posattr x="-661.0" y="201.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID383">
          <posattr x="-671.0" y="206.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID381">
          <posattr x="-621.0" y="241.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input( eVar );
output ( eVar2 );
action
  let
    val pid = #id (#p eVar);
    val nid = #id (#n eVar);
    val next = sendMsgTo( nid );

    val t = 0.0;
    val e = calcEnergyCPU( #n eVar , t );
    val n = setNodeTimeAndEnergy( #n eVar , t , e );
  in
   {p=newPacket(pid,nid,next) , n=n}
end;</text>
        </code>
        <channel id="ID379">
          <posattr x="-743.5" y="211.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1872">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID384" explicit="false">
        <posattr x="-661.0" y="573.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>boot</text>
        <box w="60.0" h="44.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID386">
          <posattr x="-661.0" y="563.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">[#app_mode nodeVar = 1 ,
 #radio_status nodeVar ,
!never ]</text>
        </cond>
        <time id="ID389">
          <posattr x="-671.0" y="568.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID387">
          <posattr x="-621.0" y="603.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input( nodeVar );
output( eVar2,resp );
action
 let
  val next = #app_nextTime nodeVar;
  val periodic = #app_periodic nodeVar;
  val pid = (#packet_id nodeVar) + 1;
  val nid = #id nodeVar;
  val run = isToRun( nodeVar );
  val sendTo = #app_sendTo nodeVar;
  val n = NODE.set_app_nextTime nodeVar (next + periodic);
  val n1 = NODE.set_packet_id n pid;
 in
  if( run ) then ( {p=newPacket(pid,nid,sendTo),n=n1} , 1 )
  else ( {p=newPacket(pid,nid,sendTo),n=n} , 0 )
end;</text>
        </code>
        <channel id="ID385">
          <posattr x="-724.5" y="573.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1873">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID390" explicit="false">
        <posattr x="-75.0" y="843.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>init
Network</text>
        <box w="92.0" h="40.0"/>
        <subst subpage="ID146" portsock="(ID167,ID363)">
        <subpageinfo id="ID394" name="Init Network">
          <posattr x="-75.0" y="843.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </subpageinfo>
        </subst>        <binding x="7.0" y="-3.0"/>
        <cond id="ID392">
          <posattr x="-75.0" y="833.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID395">
          <posattr x="-85.0" y="838.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID393">
          <posattr x="-35.0" y="873.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </code>
        <channel id="ID391">
          <posattr x="-154.5" y="843.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1874">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID396" explicit="false">
        <posattr x="213.0" y="735.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>start</text>
        <box w="60.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID398">
          <posattr x="213.0" y="725.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">[ not (#radio_status nodeVar) ]</text>
        </cond>
        <time id="ID401">
          <posattr x="203.0" y="730.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID399">
          <posattr x="253.0" y="765.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </code>
        <channel id="ID397">
          <posattr x="149.5" y="735.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1875">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID402" explicit="false">
        <posattr x="193.0" y="434.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>stop</text>
        <box w="60.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID404">
          <posattr x="193.0" y="424.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">[ !never ]</text>
        </cond>
        <time id="ID407">
          <posattr x="183.0" y="429.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID405">
          <posattr x="233.0" y="464.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </code>
        <channel id="ID403">
          <posattr x="129.5" y="434.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1876">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <arc id="ID326" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID378"/>
        <placeend idref="ID357"/>
        <annot id="ID327">
          <posattr x="-638.5" y="121.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar2</text>
        </annot>
      </arc>

      <arc id="ID328" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID372"/>
        <placeend idref="ID354"/>
        <annot id="ID329">
          <posattr x="-93.5" y="148.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID330" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID378"/>
        <placeend idref="ID360"/>
        <annot id="ID331">
          <posattr x="-679.5" y="268.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">eVar</text>
        </annot>
      </arc>

      <arc id="ID332" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID384"/>
        <placeend idref="ID360"/>
        <annot id="ID333">
          <posattr x="-712.0" y="473.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">if( resp = 1 )
  then 1`eVar2
else empty</text>
        </annot>
      </arc>

      <arc id="ID334" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID390"/>
        <placeend idref="ID363"/>
        <annot id="ID335">
          <posattr x="-105.5" y="801.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID336" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID384"/>
        <placeend idref="ID363"/>
        <bendpoint id="ID338" serial="1">
          <posattr x="-661.0" y="735.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID337">
          <posattr x="-380.0" y="746.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID339" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID372"/>
        <placeend idref="ID363"/>
        <annot id="ID340">
          <posattr x="-41.5" y="463.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">#n eVar2</text>
        </annot>
      </arc>

      <arc id="ID341" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID384"/>
        <placeend idref="ID363"/>
        <bendpoint id="ID343" serial="1">
          <posattr x="-641.0" y="395.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <bendpoint id="ID344" serial="2">
          <posattr x="-100.0" y="395.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID342">
          <posattr x="-357.0" y="370.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">if( resp = 0 )
  then 1`nodeVar
else empty</text>
        </annot>
      </arc>

      <arc id="ID345" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID396"/>
        <placeend idref="ID363"/>
        <annot id="ID346">
          <posattr x="72.0" y="746.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID347" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID396"/>
        <placeend idref="ID366"/>
        <annot id="ID348">
          <posattr x="334.0" y="746.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID349" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID402"/>
        <placeend idref="ID363"/>
        <bendpoint id="ID351" serial="1">
          <posattr x="-45.0" y="434.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID350">
          <posattr x="68.0" y="445.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID352" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID402"/>
        <placeend idref="ID369"/>
        <annot id="ID353">
          <posattr x="322.0" y="445.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>
    </page>

    <page id="ID146">
      <pageattr name="Init Network"/>

      <place id="ID167">
        <posattr x="482.0" y="-6.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Node
Repository</text>
        <ellipse w="108.0" h="72.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID170">
          <posattr x="512.0" y="-36.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE</text>
        </type>
        <initmark id="ID169">
          <posattr x="512.0" y="24.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
        <port id="ID1776" type="Out">
          <posattr x="472.0" y="-26.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </port>
      </place>

      <place id="ID171">
        <posattr x="29.0" y="384.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>start</text>
        <ellipse w="60.0" h="40.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID173">
          <posattr x="59.0" y="354.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">INT</text>
        </type>
        <initmark id="ID172">
          <posattr x="59.0" y="414.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">0</text>
        </initmark>
      </place>

      <place id="ID174">
        <posattr x="217.0" y="198.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>nodes</text>
        <ellipse w="60.0" h="40.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID176">
          <posattr x="247.0" y="168.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">NODE_LIST</text>
        </type>
        <initmark id="ID175">
          <posattr x="247.0" y="228.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <place id="ID177">
        <posattr x="525.0" y="393.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <text>timer</text>
        <ellipse w="60.0" h="40.0"/>
        <token x="-10.0" y="0.0"/>
        <marking x="0.0"
                 y="0.0"
                 hidden="false">
          <snap snap_id="0"
                anchor.horizontal="0"
                anchor.vertical="0"/>
        </marking>
        <type id="ID179">
          <posattr x="555.0" y="363.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">INT</text>
        </type>
        <initmark id="ID178">
          <posattr x="555.0" y="423.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </initmark>
      </place>

      <trans id="ID204" explicit="false">
        <posattr x="29.0" y="198.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>boot</text>
        <box w="60.0" h="56.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID206">
          <posattr x="29.0" y="188.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID209">
          <posattr x="19.0" y="193.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID207">
          <posattr x="69.0" y="228.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">output( nodeListVar );
action
(
   initNetwork()
);</text>
        </code>
        <channel id="ID205">
          <posattr x="-34.5" y="198.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1877">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID210" explicit="false">
        <posattr x="482.0" y="147.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Add
Node</text>
        <box w="122.0" h="46.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID212">
          <posattr x="482.0" y="137.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </cond>
        <time id="ID215">
          <posattr x="472.0" y="142.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID213">
          <posattr x="522.0" y="177.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input ( nodeListVar );
output ( nodeVar );
action
(
  List.nth( nodeListVar , 0 )
);</text>
        </code>
        <channel id="ID211">
          <posattr x="387.5" y="147.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1878">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <trans id="ID216" explicit="false">
        <posattr x="805.0" y="393.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="solid"/>
        <textattr colour="Black" bold="false"/>
        <text>Ajuster</text>
        <box w="60.0" h="40.0"/>
        <binding x="7.0" y="-3.0"/>
        <cond id="ID218">
          <posattr x="805.0" y="383.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">[!never]</text>
        </cond>
        <time id="ID221">
          <posattr x="795.0" y="388.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </time>
        <code id="ID219">
          <posattr x="845.0" y="423.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">input ( i );
output ( i2 );
action
(
  if( not (Real.==( !timeGlobal , !timeLast )) ) then
    (
      timeLast := !timeGlobal;
      0
    )
  else if( i &lt; 10 ) then
    (
      i + 1
    )
  else
    (
      timeGlobal := !timeGlobal + 0.1;
      timeLast := !timeGlobal;
     5
    )
);</text>
        </code>
        <channel id="ID217">
          <posattr x="741.5" y="393.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </channel>
        <priority id="ID1879">
          <posattr x="0.0" y="0.0"/>
          <fillattr colour="White" pattern="" filled="false"/>
          <lineattr colour="Black" thick="1" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </priority>
      </trans>

      <arc id="ID147" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID210"/>
        <placeend idref="ID167"/>
        <annot id="ID148">
          <posattr x="512.5" y="72.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeVar</text>
        </annot>
      </arc>

      <arc id="ID149" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID204"/>
        <placeend idref="ID171"/>
        <annot id="ID150">
          <posattr x="23.5" y="295.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">i</text>
        </annot>
      </arc>

      <arc id="ID151" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID204"/>
        <placeend idref="ID174"/>
        <annot id="ID152">
          <posattr x="111.0" y="209.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeListVar</text>
        </annot>
      </arc>

      <arc id="ID153" orientation="PtoT" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID210"/>
        <placeend idref="ID174"/>
        <bendpoint id="ID155" serial="1">
          <posattr x="217.0" y="147.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID154">
          <posattr x="317.0" y="136.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">nodeListVar</text>
        </annot>
      </arc>

      <arc id="ID156" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID210"/>
        <placeend idref="ID174"/>
        <bendpoint id="ID158" serial="1">
          <posattr x="452.0" y="296.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <bendpoint id="ID159" serial="2">
          <posattr x="217.0" y="296.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID157">
          <posattr x="343.0" y="321.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">if( length nodeListVar = 1 )
  then empty
else 1`List.drop( nodeListVar , 1 )</text>
        </annot>
      </arc>

      <arc id="ID160" orientation="PtoT" order="2">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID216"/>
        <placeend idref="ID177"/>
        <annot id="ID161">
          <posattr x="705.0" y="375.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">i</text>
        </annot>
      </arc>

      <arc id="ID162" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID216"/>
        <placeend idref="ID177"/>
        <annot id="ID163">
          <posattr x="705.0" y="411.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">i2</text>
        </annot>
      </arc>

      <arc id="ID164" orientation="TtoP" order="1">
        <posattr x="0.0" y="-0.0"/>
        <fillattr colour="White" pattern="" filled="false"/>
        <lineattr colour="Black" thick="1" type="Solid"/>
        <textattr colour="Black" bold="false"/>
        <transend idref="ID210"/>
        <placeend idref="ID177"/>
        <bendpoint id="ID166" serial="1">
          <posattr x="525.0" y="182.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4"/>
        </bendpoint>
        <annot id="ID165">
          <posattr x="615.5" y="299.0"/>
          <fillattr colour="White" pattern="Solid" filled="false"/>
          <lineattr colour="Black" thick="0" type="Solid"/>
          <textattr colour="Black" bold="false"/>
          <text tool="CPN Tools" version="2.3.4">if( length nodeListVar = 1 )
  then 1`0
else empty</text>
        </annot>
      </arc>
    </page>

    <instances>

      <instance id="ID2485"
                page="ID84">
        <instance id="ID2486" trans="ID180"/>

        <instance id="ID2484" trans="ID186">

        <instance id="ID2483" trans="ID803">

        <instance id="ID2482" trans="ID580">

        <instance id="ID2481" trans="ID390"/>
</instance>
</instance>
</instance>

      </instance>

    </instances>

    <options>
              <option name="global_fairness">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="untimedcount">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="interval">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="count">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="untimedsum">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="outputdirectory">
                <value>
                  <text>&lt;same as model&gt;</text>
                </value>
              </option>
              <option name="repssquare">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="fair_be">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="firstval">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="sum">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="lastval">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="untimedciavg">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="untimedmax">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="repfirstval">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="lastupdate">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="repmin">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="untimedlastval">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="untimedssqdev">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="untimedfirstval">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="untimedavg">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="repavg">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="repstddev">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="untimedssquare">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="repsum">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="untimedvariance">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="avg">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="repmax">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="min">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="untimedstddev">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="ssquare">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="max">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="variance">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="realtimestamp">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="untimedmin">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="ssqdev">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="firstupdate">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="repcount">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="ciavg">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="repciavg">
                <value>
                  <boolean>true</boolean>
                </value>
              </option>
              <option name="repvariance">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="replastval">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="stddev">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>
              <option name="repssqdev">
                <value>
                  <boolean>false</boolean>
                </value>
              </option>

    </options>

    <binders/>
<monitorblock name="Monitors">
          <monitor id="ID123456"
                   name="Criteria Stop"
                   type="1"
                   typedescription="Breakpoint"
                   disabled="false">
            <node idref="ID216"
                  pageinstanceidref="ID2481"/>

            <declaration name="Predicate">

        <ml id="ID2487">fun pred ( bindelem ) = 
(
  1 &lt;= getNodeDead()
)
          <layout>fun pred ( bindelem ) = 
(
  1 &lt;= getNodeDead()
)</layout>

        </ml>
            </declaration>
          </monitor></monitorblock>    <IndexNode expanded="true">
      <IndexNode expanded="false"/>
      <IndexNode expanded="false"/>
      <IndexNode expanded="false">
        <IndexNode expanded="false"/>
        <IndexNode expanded="false">
          <IndexNode expanded="false">
            <IndexNode expanded="false">
              <IndexNode expanded="true"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="true"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="true"/>
              <IndexNode expanded="true"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="false"/>
            </IndexNode>
            <IndexNode expanded="false">
              <IndexNode expanded="true"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="true"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="true"/>
              <IndexNode expanded="true"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="false"/>
              <IndexNode expanded="true"/>
              <IndexNode expanded="false"/>
            </IndexNode>
          </IndexNode>
          <IndexNode expanded="false">
            <IndexNode expanded="true"/>
            <IndexNode expanded="true"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="true"/>
            <IndexNode expanded="true"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="true"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
          </IndexNode>
        </IndexNode>
      </IndexNode>
      <IndexNode expanded="false">
        <IndexNode expanded="false"/>
      </IndexNode>
      <IndexNode expanded="false">
        <IndexNode expanded="false">
          <IndexNode expanded="true"/>
          <IndexNode expanded="true"/>
          <IndexNode expanded="true"/>
          <IndexNode expanded="true"/>
          <IndexNode expanded="true"/>
          <IndexNode expanded="true"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
        </IndexNode>
        <IndexNode expanded="false">
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
        </IndexNode>
        <IndexNode expanded="false">
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="true"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false">
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
          </IndexNode>
          <IndexNode expanded="false">
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
          </IndexNode>
          <IndexNode expanded="true">
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
          </IndexNode>
        </IndexNode>
        <IndexNode expanded="false"/>
        <IndexNode expanded="false">
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false">
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
          </IndexNode>
        </IndexNode>
        <IndexNode expanded="false">
          <IndexNode expanded="false"/>
        </IndexNode>
        <IndexNode expanded="false">
          <IndexNode expanded="false">
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
          </IndexNode>
          <IndexNode expanded="false">
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
            <IndexNode expanded="false"/>
          </IndexNode>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
        </IndexNode>
        <IndexNode expanded="false">
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
          <IndexNode expanded="false"/>
        </IndexNode>
      </IndexNode>
      <IndexNode expanded="false">
        <IndexNode expanded="false">
          <IndexNode expanded="false"/>
          <IndexNode expanded="false">
            <IndexNode expanded="false">
              <IndexNode expanded="false"/>
            </IndexNode>
          </IndexNode>
          <IndexNode expanded="false">
            <IndexNode expanded="true"/>
          </IndexNode>
        </IndexNode>
      </IndexNode>
      <IndexNode expanded="true">
        <IndexNode expanded="true"/>
        <IndexNode expanded="true">
          <IndexNode expanded="true">
            <IndexNode expanded="true">
              <IndexNode expanded="true"/>
            </IndexNode>
          </IndexNode>
        </IndexNode>
      </IndexNode>
    </IndexNode>
  </cpnet>
</workspaceElements>